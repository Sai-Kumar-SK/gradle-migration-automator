{
  "name": "gradle-migration-automator",
  "displayName": "Gradle Migration Automator",
  "publisher": "sample-publisher",
  "version": "0.1.0",
  "description": "Automates migration of Gradle projects from Nexus OSS to JFrog Artifactory leveraging Git, Gradle parsing, and transformation planning.",
  "license": "MIT",
  "engines": {
    "vscode": "^1.93.0"
  },
  "categories": [
    "Other"
  ],
  "main": "./out/extension.js",
  "activationEvents": [
    "onStartupFinished",
    "onCommand:gradle-migration-automator.migrate",
    "onChatParticipant:gitAgent",
    "onChatParticipant:gradleParser",
    "onChatParticipant:transformationPlanner"
  ],
  "contributes": {
    "commands": [
      {
        "command": "gradle-migration-automator.migrate",
        "title": "Migrate Gradle Project to Artifactory"
      }
    ],
    "chatParticipants": [
      {
        "id": "gitAgent",
        "name": "gitAgent",
        "description": "Handles repository operations like clone, checkout, branch creation, commit, and push.",
        "systemMessage": "You are gitAgent, a repository operations specialist. You handle cloning a repo, checking out base branches, creating new branches, committing modified files, and pushing to remote origin. Never modify build logic directly. Output structured JSON like: { 'repo': '<repo-name>', 'branch': '<branch-name>', 'workspacePath': '<abs-path>', 'status': 'ready' }",
        "isSticky": true
      },
      {
        "id": "gradleParser",
        "name": "gradleParser",
        "description": "Parses Gradle build files (Groovy and Kotlin DSL) and outputs structured metadata.",
        "systemMessage": "You are gradleParser, a Gradle AST parser. Parse build.gradle(.kts) and settings.gradle files to extract plugin IDs, repository definitions, publishing configs, and detect Nexus references. Output normalized JSON: { 'modules': [{ 'path': 'submodule', 'dsl': 'groovy', 'plugins': [...], 'repositories': [...], 'publishing': {...}, 'nexusReferences': true|false }] }",
        "isSticky": true
      },
      {
        "id": "transformationPlanner",
        "name": "transformationPlanner",
        "description": "Plans and generates patch diffs to modernize Gradle projects using buildSrc and version catalogs.",
        "systemMessage": "You are transformationPlanner. Follow these strict steps and generate unified-diff patches only: 1) Root settings.gradle: replace entire file with only rootProject.name and include lines; remove gradle.allprojects/repositories/publishing blocks. 2) buildSrc: create settings.gradle, build.gradle, and src/main/groovy/common.lib.gradle by copying exact content from templates.ts. Do NOT invent or generate custom content; prefer Groovy DSL; delete any .kts files or commonLibPlugin.groovy. 3) Version catalog: generate gradle/libs.versions.toml by scanning ALL build.gradle files across the repo (not just parent). 4) Delete root build.gradle. 5) Subprojects: update each build.gradle to apply 'common.lib', remove repositories/publishing/wrapper/ext blocks; keep dependency declarations as-is (libs.* conversion later). Output unified diffs with risk levels (low|medium|high). Preserve existing DSL style and indentation.",
        "isSticky": true
      }
    ]
  },
  "scripts": {
    "compile": "tsc -p .",
    "watch": "tsc -p . -w"
  },
  "devDependencies": {
    "@types/node": "^18.19.130",
    "@types/vscode": "^1.105.0",
    "typescript": "^5.9.3"
  },
  "keywords": [],
  "author": ""
}
